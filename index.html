<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Brief für Fiona</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;800&family=EB+Garamond:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg0:#08090c;
      --bg1:#121521;

      --paper:#efe4c8;
      --paper2:#e1d2ad;
      --ink:#161616;

      --env:#b08a55;
      --env2:#8f6b3e;
      --env3:#6f5434; /* inner/bottom */

      --wax:#6e1b1b;
      --wax2:#4f1111;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      display:grid;
      place-items:center;
      overflow:hidden;
      background:
        radial-gradient(900px 520px at 50% 25%, #1c2030 0%, var(--bg0) 70%),
        linear-gradient(180deg, var(--bg1), var(--bg0));
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:#d9dbe2;
    }

    /* --- floating hearts background --- */
    .hearts{
      position:fixed;
      inset:0;
      pointer-events:none;
      opacity:.35;
      filter: blur(.0px);
      z-index:0;
    }
    .heart{
      position:absolute;
      width:18px;
      height:18px;
      transform:rotate(45deg);
      background: rgba(120, 30, 40, .55);
      border-radius:4px;
      animation: floatUp linear infinite;
      will-change: transform, top, left, opacity;
    }
    .heart:before,.heart:after{
      content:"";
      position:absolute;
      width:18px;
      height:18px;
      background: rgba(120, 30, 40, .55);
      border-radius:50%;
    }
    .heart:before{ left:-9px; top:0; }
    .heart:after{ top:-9px; left:0; }

    @keyframes floatUp{
      0%   { transform:translateY(40px) rotate(45deg); opacity:0; }
      10%  { opacity:.7; }
      80%  { opacity:.7; }
      100% { transform:translateY(-120vh) rotate(45deg); opacity:0; }
    }

    .wrap{
      position:relative;
      z-index:2;
      width:min(720px, 94vw);
      text-align:center;
    }
    .hint{
      margin:0 0 14px;
      opacity:.75;
      letter-spacing:.03em;
      font-size:14px;
    }

    .stage{
      height:520px;
      display:grid;
      place-items:center;
    }

    .envelope{
      position:relative;
      width:min(520px, 92vw);
      aspect-ratio: 520 / 340;
      cursor:pointer;
      user-select:none;
      filter: drop-shadow(0 28px 42px rgba(0,0,0,.65));
      transform: translateZ(0);
      outline:none;
    }

    /* --- envelope base --- */
    .env-body{
      position:absolute;
      inset:0;
      border-radius:18px;
      background:
        linear-gradient(180deg, var(--env) 0%, var(--env2) 55%, #6a4e2f 100%);
      overflow:hidden;
    }
    /* subtle paper texture */
    .env-body:after{
      content:"";
      position:absolute;
      inset:0;
      background:
        repeating-linear-gradient(
          35deg,
          rgba(255,255,255,.05) 0px,
          rgba(255,255,255,.05) 2px,
          transparent 2px,
          transparent 7px
        );
      opacity:.35;
      mix-blend-mode:overlay;
      pointer-events:none;
    }

    /* inner pocket (only visible when open, behind letter) */
    .pocket{
      position:absolute;
      left:6%;
      right:6%;
      bottom:7%;
      height:62%;
      border-radius:14px;
      background: linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.35));
      opacity:0;
      transition: opacity 260ms ease;
      pointer-events:none;
    }

    /* bottom flap (triangle) */
    .flap-bottom{
      position:absolute;
      left:0; right:0; bottom:0;
      height:62%;
      border-radius:0 0 18px 18px;
      background: linear-gradient(180deg, var(--env2), var(--env3));
      clip-path: polygon(0 0, 50% 55%, 100% 0, 100% 100%, 0 100%);
      opacity:.98;
    }

    /* top flap (closed: covers front, open: folds up) */
    .flap-top{
      position:absolute;
      left:0; right:0; top:0;
      height:70%;
      border-radius:18px 18px 0 0;
      background: linear-gradient(180deg, #caa06a, var(--env) 70%);
      clip-path: polygon(0 0, 50% 72%, 100% 0, 100% 100%, 0 100%);
      transform-origin: top;
      transform: rotateX(0deg);
      transition: transform 520ms cubic-bezier(.18,.95,.12,1);
      will-change: transform;
      z-index:6;
    }
    /* the inside of the flap (brown, telltale difference on open) */
    .flap-top:after{
      content:"";
      position:absolute;
      inset:0;
      background: linear-gradient(180deg, #7a5a35, #4f3b24);
      clip-path: inherit;
      transform: translateZ(-1px);
      opacity:0; /* becomes visible when rotated */
      transition: opacity 220ms ease;
    }

    /* wax seal */
    .seal{
      position:absolute;
      left:50%;
      top:58%;
      transform: translate(-50%, -50%);
      width:68px;
      height:68px;
      border-radius:50%;
      background:
        radial-gradient(circle at 30% 28%, rgba(255,255,255,.18), transparent 55%),
        radial-gradient(circle at 70% 80%, rgba(0,0,0,.22), transparent 56%),
        linear-gradient(180deg, #8c2a2a, var(--wax2));
      box-shadow:
        inset 0 3px 7px rgba(0,0,0,.45),
        0 18px 26px rgba(0,0,0,.55);
      display:grid;
      place-items:center;
      font-family: "Cinzel", serif;
      font-weight:800;
      letter-spacing:.04em;
      color:#f3e6d6;
      z-index:7;
      transition: opacity 220ms ease, transform 220ms ease;
    }

    /* --- letter (hidden in closed state) --- */
    .letter{
      position:absolute;
      left:9%;
      right:9%;
      bottom:8%;
      height:84%;
      border-radius:12px;
      background:
        radial-gradient(circle at 18% 22%, rgba(255,255,255,.28), transparent 60%),
        linear-gradient(180deg, var(--paper) 0%, var(--paper2) 100%);
      box-shadow:
        inset 0 0 40px rgba(0,0,0,.14),
        0 22px 34px rgba(0,0,0,.52);
      overflow:hidden;
      transform: translateY(92%); /* fully hidden when closed */
      transition: transform 560ms cubic-bezier(.18,.95,.12,1);
      z-index:5;
    }
    /* faint paper grain */
    .letter:before{
      content:"";
      position:absolute;
      inset:0;
      background:
        repeating-linear-gradient(
          25deg,
          rgba(0,0,0,.03) 0px,
          rgba(0,0,0,.03) 1px,
          transparent 1px,
          transparent 6px
        );
      opacity:.35;
      pointer-events:none;
    }

    .letter-inner{
      position:relative;
      height:100%;
      padding:26px 26px 22px;
      font-family: "EB Garamond", serif;
      color: var(--ink);
      overflow:auto; /* scrollable */
      scrollbar-width: thin;
      scrollbar-color: rgba(0,0,0,.25) transparent;
    }
    .letter-inner::-webkit-scrollbar{ width:10px; }
    .letter-inner::-webkit-scrollbar-thumb{
      background: rgba(0,0,0,.22);
      border-radius:999px;
      border:3px solid rgba(255,255,255,.15);
      background-clip: padding-box;
    }

    .title{
      font-family:"Cinzel", serif;
      font-weight:800;
      letter-spacing:.02em;
      font-size:22px;
      margin:0 0 10px;
    }
    .text{
      font-size:18px;
      line-height:1.6;
      margin:0;
      white-space:pre-line;
    }

    /* open state */
    .envelope.is-open .flap-top{
      transform: rotateX(170deg);
    }
    .envelope.is-open .flap-top:after{
      opacity:1;
    }
    .envelope.is-open .letter{
      transform: translateY(-8%);
    }
    .envelope.is-open .seal{
      opacity:0;
      transform: translate(-50%, -50%) scale(.88);
      pointer-events:none;
    }
    .envelope.is-open .pocket{
      opacity:1;
    }

    /* accessibility focus */
    .envelope:focus-visible{
      outline: 3px solid rgba(255,255,255,.55);
      outline-offset: 10px;
      border-radius: 22px;
    }

    @media (max-width:520px){
      .stage{ height:480px; }
      .letter-inner{ padding:22px 20px 18px; }
      .text{ font-size:17px; }
    }
  </style>
</head>

<body>
  <div class="hearts" aria-hidden="true" id="hearts"></div>

  <div class="wrap">
    <p class="hint">Klick aufs Kuvert.</p>

    <div class="stage">
      <div class="envelope" id="env" role="button" tabindex="0" aria-expanded="false" aria-label="Kuvert öffnen">
        <div class="env-body"></div>
        <div class="pocket"></div>
        <div class="flap-bottom"></div>

        <div class="seal" aria-hidden="true">MF</div>

        <div class="letter" aria-hidden="true">
          <div class="letter-inner">
            <h2 class="title">Fiona,</h2>
            <p class="text">ich bin von ganzem Herzen froh, dass du in mein Leben getreten bist. Du bist ein wundervoller Mensch, mit spannenden Höhen und auch Tiefen. Ich liebe es, mit dir über alles reden zu können, das schätze ich sehr.

Und dann sie ensures you also noch phänomenal aus und der Sex mit dir ist unglaublich heiss, und dabei haben wir erst begonnen, uns so richtig kennenzulernen: erotisch, aber auch romantisch.

Ich hoffe, dass wir einander noch lange in unseren Leben haben werden, vielleicht wird ja sogar ein gemeinsames daraus.

Bleib so wie du bist, du bist wunderbar. Ich vermisse deine physische Gegenwart schon und freue mich jetzt schon, wenn wir uns wiedersehen.

Dein Michael</p>
          </div>
        </div>

        <div class="flap-top"></div>
      </div>
    </div>
  </div>

  <script>
    // Toggle open/close
    const env = document.getElementById('env');
    const letter = env.querySelector('.letter');

    function setOpen(open){
      env.classList.toggle('is-open', open);
      env.setAttribute('aria-expanded', String(open));
      letter.setAttribute('aria-hidden', String(!open));
    }

    function toggle(){
      setOpen(!env.classList.contains('is-open'));
    }

    env.addEventListener('click', toggle);
    env.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        toggle();
      }
    });

    // Hearts generator (only hearts, no other sprites)
    const hearts = document.getElementById('hearts');
    const COUNT = 26;

    function rand(min, max){ return Math.random() * (max - min) + min; }

    for(let i=0;i<COUNT;i++){
      const h = document.createElement('div');
      h.className = 'heart';
      const size = rand(10, 26);
      h.style.width = size + 'px';
      h.style.height = size + 'px';
      h.style.left = rand(-5, 105) + 'vw';
      h.style.top = rand(20, 120) + 'vh';
      h.style.opacity = rand(.18, .55);
      h.style.animationDuration = rand(10, 22) + 's';
      h.style.animationDelay = rand(0, 10) + 's';
      hearts.appendChild(h);
    }
  </script>
</body>
</html>
