<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Brief für Fiona</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=EB+Garamond:wght@400;600&display=swap" rel="stylesheet">

<style>
:root{
  --bg0:#0b0c0f;
  --bg1:#1a1d24;

  --env0:#b18a57;
  --env1:#8a673e;
  --env2:#61472b;

  --paper0:#f2e6c8;
  --paper1:#e4d2ad;

  --ink:#161616;

  --wax0:#8f2c2c;
  --wax1:#5f1616;

  --shadow: rgba(0,0,0,.55);
  --soft: rgba(0,0,0,.22);
  --rim: rgba(255,255,255,.10);
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  background:radial-gradient(900px 520px at 50% 32%, var(--bg1) 0%, var(--bg0) 72%);
  color:#e9eef8;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  overflow-x:hidden;
}

.wrap{
  width:min(680px,94vw);
  text-align:center;
  position:relative;
}

.hint{
  margin:0 0 18px;
  opacity:.75;
  letter-spacing:.04em;
  font-size:14px;
  transition:opacity 180ms ease, transform 180ms ease;
  position:relative;
  z-index:20; /* always above envelope */
}

.wrap.is-open .hint{
  opacity:.15;
  transform:translateY(-6px);
}

.stage{
  height:460px;
  display:grid;
  place-items:center;
  position:relative;
}

.envelope{
  --w: 440px;
  --h: 290px;

  width:var(--w);
  height:var(--h);
  position:relative;
  cursor:pointer;
  user-select:none;
  transform: translateZ(0);
  filter: drop-shadow(0 26px 34px var(--shadow));
  outline:none;

  /* subtle “object” stance */
  transform: perspective(900px) rotateX(6deg);
  transition: transform 220ms ease, filter 220ms ease;
}

.envelope:hover{
  transform: perspective(900px) rotateX(4deg) translateY(-2px);
  filter: drop-shadow(0 30px 38px rgba(0,0,0,.62));
}

@media (max-width:520px){
  .envelope{ --w: 330px; --h: 230px; transform: perspective(900px) rotateX(5deg); }
  .stage{ height:420px; }
}

/* ---- body ---- */
.env-body{
  position:absolute;
  inset:0;
  border-radius:18px;
  background:
    linear-gradient(165deg, var(--env0), var(--env1) 55%, var(--env2)),
    repeating-linear-gradient(
      45deg,
      rgba(0,0,0,.07) 0px,
      rgba(0,0,0,.07) 2px,
      transparent 2px,
      transparent 7px
    );
  overflow:hidden;           /* key: masks inner pocket + flaps */
  box-shadow:
    inset 0 0 0 1px rgba(0,0,0,.16),
    inset 0 18px 26px rgba(255,255,255,.06),
    inset 0 -20px 28px rgba(0,0,0,.18);
  z-index:1;
}

/* inner pocket shadow (makes wings look like real folds) */
.env-pocket{
  position:absolute;
  left:10px; right:10px; top:12px; bottom:12px;
  border-radius:14px;
  box-shadow:
    inset 0 0 0 1px rgba(0,0,0,.08),
    inset 0 26px 36px rgba(0,0,0,.18),
    inset 0 -26px 34px rgba(0,0,0,.10);
  pointer-events:none;
  z-index:2;
}

/* side flaps */
.flap-left,.flap-right{
  position:absolute;
  top:28%;
  width:60%;
  height:90%;
  background:
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.12)),
    linear-gradient(180deg, var(--env1), var(--env2));
  opacity:.98;
  pointer-events:none;
  z-index:3; /* inside pocket, above body */
}
.flap-left{
  left:-12%;
  clip-path:polygon(0 0, 100% 50%, 0 100%);
  box-shadow: inset -18px 0 24px rgba(0,0,0,.16);
}
.flap-right{
  right:-12%;
  clip-path:polygon(100% 0, 0 50%, 100% 100%);
  box-shadow: inset 18px 0 24px rgba(0,0,0,.16);
}

/* bottom flap */
.flap-bottom{
  position:absolute;
  left:0; right:0; bottom:0;
  height:66%;
  background:
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(0,0,0,.14)),
    linear-gradient(180deg, var(--env1), var(--env2));
  clip-path:polygon(0 0, 50% 54%, 100% 0, 100% 100%, 0 100%);
  border-bottom-left-radius:18px;
  border-bottom-right-radius:18px;
  box-shadow: inset 0 18px 28px rgba(0,0,0,.14);
  pointer-events:none;
  z-index:4;
}

/* top flap (3D) */
.flap-top{
  position:absolute;
  left:0; right:0; top:0;
  height:70%;
  background:
    linear-gradient(180deg, rgba(255,255,255,.12), rgba(0,0,0,.10)),
    linear-gradient(180deg, #caa16a, var(--env1));
  clip-path:polygon(0 0, 50% 70%, 100% 0, 100% 100%, 0 100%);
  transform-origin:top;
  transform: rotateX(0deg);
  transition: transform 360ms cubic-bezier(.2,.85,.15,1);
  border-top-left-radius:18px;
  border-top-right-radius:18px;
  box-shadow:
    inset 0 -18px 24px rgba(0,0,0,.18),
    0 2px 0 var(--rim);
  will-change:transform;
  pointer-events:none;
  z-index:8; /* above everything */
}

/* wax seal */
.seal{
  position:absolute;
  left:50%;
  top:60%;
  transform:translate(-50%,-50%);
  width:64px;
  height:64px;
  border-radius:999px;
  background:
    radial-gradient(circle at 35% 30%, rgba(255,255,255,.18), transparent 62%),
    radial-gradient(circle at 72% 80%, rgba(0,0,0,.26), transparent 60%),
    linear-gradient(180deg, var(--wax0), var(--wax1));
  box-shadow:
    inset 0 3px 8px rgba(0,0,0,.35),
    0 12px 22px rgba(0,0,0,.48);
  display:grid;
  place-items:center;
  font-family:"Cinzel", serif;
  font-weight:900;
  letter-spacing:.06em;
  color:#f5e6d0;
  z-index:7;
  transition: opacity 160ms ease, transform 160ms ease;
  pointer-events:none;
}

/* ---- LETTER ---- */
.letter{
  position:absolute;
  left:8%;
  right:8%;
  bottom:10%;
  height:92%;
  border-radius:14px;
  background:
    radial-gradient(700px 240px at 25% 25%, rgba(255,255,255,.20), transparent 55%),
    radial-gradient(520px 260px at 80% 20%, rgba(0,0,0,.08), transparent 58%),
    linear-gradient(180deg, var(--paper0), var(--paper1));
  box-shadow:
    0 18px 30px rgba(0,0,0,.35),
    inset 0 0 0 1px rgba(0,0,0,.10),
    inset 0 18px 30px rgba(255,255,255,.08),
    inset 0 -20px 28px rgba(0,0,0,.10);
  transform: translateY(72%);       /* closed: sits deeper in envelope */
  transition: transform 420ms cubic-bezier(.2,.9,.1,1);
  overflow:hidden;
  z-index:6;                        /* above bottom + sides, below top flap */
}

.letter::before{
  content:"";
  position:absolute;
  inset:-10px;
  background:
    radial-gradient(circle at 18% 18%, rgba(0,0,0,.14), transparent 48%),
    radial-gradient(circle at 86% 22%, rgba(0,0,0,.12), transparent 52%),
    radial-gradient(circle at 24% 88%, rgba(0,0,0,.12), transparent 52%),
    radial-gradient(circle at 86% 86%, rgba(0,0,0,.14), transparent 50%),
    repeating-linear-gradient(35deg, rgba(0,0,0,.05) 0px, rgba(0,0,0,.05) 1px, transparent 1px, transparent 7px);
  opacity:.55;
  mix-blend-mode:multiply;
  pointer-events:none;
}

/* header */
.letter header{
  padding:18px 20px 6px;
  font-family:"Cinzel", serif;
  font-size:12px;
  letter-spacing:.14em;
  text-transform:uppercase;
  opacity:.72;
  color:rgba(22,22,22,.85);
}

/* content area: scrollable when open for long text */
.content{
  padding:0 20px 18px;
  font-family:"EB Garamond", serif;
  font-size:20px;
  line-height:1.55;
  color:var(--ink);
  opacity:0;
  transform: translateY(10px);
  transition: opacity 220ms ease, transform 220ms ease;
  max-height: calc(100% - 86px); /* prevents signature overlap */
  overflow:auto;
  scrollbar-width: thin;
}

/* signature */
.sig{
  padding:10px 20px 18px;
  font-family:"Cinzel", serif;
  font-size:13px;
  letter-spacing:.04em;
  opacity:.80;
  color:rgba(22,22,22,.82);
}

/* ---- OPEN STATE ---- */
.envelope.is-open{
  transform: perspective(900px) rotateX(0deg);
}

.envelope.is-open .flap-top{
  transform: rotateX(168deg);
}

.envelope.is-open .letter{
  transform: translateY(-22%); /* open: lifts higher -> more readable */
}

.envelope.is-open .content{
  opacity:1;
  transform: translateY(0);
  transition-delay: 120ms;
}

.envelope.is-open .seal{
  opacity:0;
  transform:translate(-50%,-50%) scale(.86);
}

/* focus */
.envelope:focus-visible{
  outline:3px solid rgba(255,255,255,.60);
  outline-offset:10px;
  border-radius:20px;
}
</style>
</head>

<body>
<div class="wrap" id="wrap">
  <p class="hint">Klick aufs Kuvert.</p>

  <div class="stage">
    <div class="envelope" id="env" role="button" tabindex="0" aria-expanded="false" aria-label="Kuvert öffnen">
      <div class="env-body"></div>
      <div class="env-pocket" aria-hidden="true"></div>

      <div class="letter" aria-hidden="true">
        <header>Persönlich</header>

        <div class="content">
          <p>
            Fiona,<br><br>
            ich bin von ganzem Herzen froh, dass du in mein Leben getreten bist.
            Du bist ein wundervoller Mensch, mit spannenden Höhen und auch Tiefen.
            Ich liebe es, mit dir über alles reden zu können, das schätze ich sehr.
            Und dann siehst du auch noch phänomenal aus.
            Und die Nähe mit dir ist unglaublich intensiv – und dabei haben wir erst begonnen,
            uns so richtig kennenzulernen. Erotisch, aber auch romantisch.<br><br>
            Ich hoffe, dass wir einander noch lange in unseren Leben haben werden,
            vielleicht wird ja sogar ein gemeinsames daraus.
            Bleib so wie du bist, du bist wunderbar.
            Ich vermisse deine physische Gegenwart schon und freue mich,
            wenn wir uns wiedersehen.<br><br>
            Dein Michael
          </p>
        </div>

        <div class="sig">– Michael</div>
      </div>

      <div class="flap-left" aria-hidden="true"></div>
      <div class="flap-right" aria-hidden="true"></div>
      <div class="flap-bottom" aria-hidden="true"></div>
      <div class="seal" aria-hidden="true">MF</div>
      <div class="flap-top" aria-hidden="true"></div>
    </div>
  </div>
</div>

<script>
  const env = document.getElementById('env');
  const wrap = document.getElementById('wrap');

  function toggleEnvelope(){
    const open = env.classList.toggle('is-open');
    wrap.classList.toggle('is-open', open);
    env.setAttribute('aria-expanded', String(open));
    env.querySelector('.letter').setAttribute('aria-hidden', String(!open));
  }

  env.addEventListener('click', toggleEnvelope);
  env.addEventListener('keydown', (e) => {
    if(e.key === 'Enter' || e.key === ' '){
      e.preventDefault();
      toggleEnvelope();
    }
  });
</script>
</body>
</html>
