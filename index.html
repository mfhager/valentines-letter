<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Brief für Fiona</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;600&family=Cinzel:wght@600;800&display=swap" rel="stylesheet">

<style>
:root{
  --bg0:#07080b;
  --bg1:#151824;

  --env0:#caa36c;
  --env1:#a47a48;
  --env2:#6a4b2b;

  --paper0:#f3e6c8;
  --paper1:#e6d2ad;

  --ink:#151515;

  --wax0:#8f2c2c;
  --wax1:#5f1616;

  --shadow: rgba(0,0,0,.55);
  --soft: rgba(0,0,0,.22);
  --rim: rgba(255,255,255,.12);
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  background: radial-gradient(900px 520px at 50% 32%, var(--bg1) 0%, var(--bg0) 72%);
  overflow:hidden;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:#e9eef8;
}

/* --- floating pixel background layer --- */
.bg{
  position:fixed;
  inset:0;
  pointer-events:none;
  overflow:hidden;
}
.bg::before{
  /* subtle vignette */
  content:"";
  position:absolute;
  inset:-10%;
  background:
    radial-gradient(1200px 700px at 50% 40%, rgba(255,255,255,.06), transparent 60%),
    radial-gradient(900px 520px at 50% 65%, rgba(0,0,0,.55), transparent 62%);
  opacity:.9;
}

.pixel{
  position:absolute;
  width:22px;
  height:22px;
  image-rendering: pixelated;
  opacity:.32;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.35));
  animation: floatUp var(--dur) linear infinite;
  transform: translate3d(0,0,0) scale(var(--s));
}
@keyframes floatUp{
  0%{ transform: translate3d(0, 16vh, 0) scale(var(--s)); opacity:0 }
  12%{ opacity:.35 }
  100%{ transform: translate3d(0, -120vh, 0) scale(var(--s)); opacity:0 }
}

/* small “8-bit icon” sprites (generic) */
.icon{
  position:absolute;
  width:52px;
  height:52px;
  image-rendering: pixelated;
  opacity:.22;
  animation: drift var(--dur) linear infinite;
  filter: drop-shadow(0 14px 20px rgba(0,0,0,.35));
  transform: translate3d(0,0,0) scale(var(--s)) rotate(var(--r));
}
@keyframes drift{
  0%{ transform: translate3d(0, 10vh, 0) scale(var(--s)) rotate(var(--r)); opacity:0 }
  10%{ opacity:.22 }
  100%{ transform: translate3d(0, -120vh, 0) scale(var(--s)) rotate(calc(var(--r) + 20deg)); opacity:0 }
}

/* --- layout --- */
.wrap{
  width:min(720px, 94vw);
  text-align:center;
  position:relative;
  z-index:5;
}

.hint{
  margin:0 0 18px;
  opacity:.7;
  letter-spacing:.04em;
  font-size:14px;
  transition:opacity 160ms ease, transform 160ms ease;
  position:relative;
  z-index:20;
}

.wrap.is-open .hint{
  opacity:.12;
  transform: translateY(-6px);
}

.stage{
  height:520px;
  display:grid;
  place-items:center;
}

/* --- envelope --- */
.envelope{
  --w: 460px;
  --h: 300px;
  width:var(--w);
  height:var(--h);
  position:relative;
  cursor:pointer;
  user-select:none;
  outline:none;
  transform: perspective(900px) rotateX(6deg);
  filter: drop-shadow(0 28px 36px var(--shadow));
  transition: transform 220ms ease, filter 220ms ease;
}

.envelope:hover{
  transform: perspective(900px) rotateX(4deg) translateY(-2px);
  filter: drop-shadow(0 32px 42px rgba(0,0,0,.62));
}

@media (max-width:560px){
  .envelope{ --w: 340px; --h: 235px; transform: perspective(900px) rotateX(5deg); }
  .stage{ height:480px; }
}

.env-body{
  position:absolute;
  inset:0;
  border-radius:18px;
  background:
    linear-gradient(165deg, var(--env0), var(--env1) 55%, var(--env2)),
    repeating-linear-gradient(45deg, rgba(0,0,0,.07) 0px, rgba(0,0,0,.07) 2px, transparent 2px, transparent 8px);
  overflow:hidden;
  box-shadow:
    inset 0 0 0 1px rgba(0,0,0,.16),
    inset 0 18px 28px rgba(255,255,255,.08),
    inset 0 -20px 30px rgba(0,0,0,.18);
  z-index:1;
}

.env-pocket{
  position:absolute;
  left:12px; right:12px; top:14px; bottom:14px;
  border-radius:14px;
  background: rgba(0,0,0,.06);
  box-shadow:
    inset 0 0 0 1px rgba(0,0,0,.10),
    inset 0 34px 46px rgba(0,0,0,.18),
    inset 0 -24px 34px rgba(0,0,0,.10);
  pointer-events:none;
  z-index:2;
}

.flap-bottom{
  position:absolute;
  left:0; right:0; bottom:0;
  height:66%;
  background:
    linear-gradient(180deg, rgba(255,255,255,.05), rgba(0,0,0,.14)),
    linear-gradient(180deg, var(--env1), var(--env2));
  clip-path: polygon(0 0, 50% 54%, 100% 0, 100% 100%, 0 100%);
  border-bottom-left-radius:18px;
  border-bottom-right-radius:18px;
  box-shadow: inset 0 20px 28px rgba(0,0,0,.14);
  pointer-events:none;
  z-index:4;
}

.flap-top{
  position:absolute;
  left:0; right:0; top:0;
  height:70%;
  background:
    linear-gradient(180deg, rgba(255,255,255,.14), rgba(0,0,0,.10)),
    linear-gradient(180deg, #d7b076, var(--env1));
  clip-path: polygon(0 0, 50% 70%, 100% 0, 100% 100%, 0 100%);
  transform-origin: top;
  transform: rotateX(0deg);
  transition: transform 360ms cubic-bezier(.2,.85,.15,1);
  border-top-left-radius:18px;
  border-top-right-radius:18px;
  box-shadow:
    inset 0 -18px 26px rgba(0,0,0,.18),
    0 2px 0 var(--rim);
  will-change: transform;
  pointer-events:none;
  z-index:8;
}

/* wax seal (visible in closed state) */
.seal{
  position:absolute;
  left:50%;
  top:58%;
  transform: translate(-50%,-50%);
  width:66px;
  height:66px;
  border-radius:999px;
  background:
    radial-gradient(circle at 35% 30%, rgba(255,255,255,.18), transparent 62%),
    radial-gradient(circle at 72% 80%, rgba(0,0,0,.26), transparent 60%),
    linear-gradient(180deg, var(--wax0), var(--wax1));
  box-shadow:
    inset 0 3px 8px rgba(0,0,0,.35),
    0 14px 26px rgba(0,0,0,.48);
  display:grid;
  place-items:center;
  font-family:"Cinzel", serif;
  font-weight:800;
  letter-spacing:.06em;
  color:#f5e6d0;
  z-index:7;
  transition: opacity 160ms ease, transform 160ms ease;
  pointer-events:none;
}

/* --- letter --- */
.letter{
  position:absolute;
  left:9%;
  right:9%;
  bottom:12%;
  height:92%;
  border-radius:14px;
  background:
    radial-gradient(700px 240px at 25% 25%, rgba(255,255,255,.20), transparent 55%),
    radial-gradient(520px 260px at 80% 20%, rgba(0,0,0,.08), transparent 58%),
    linear-gradient(180deg, var(--paper0), var(--paper1));
  box-shadow:
    0 18px 30px rgba(0,0,0,.35),
    inset 0 0 0 1px rgba(0,0,0,.10),
    inset 0 18px 30px rgba(255,255,255,.08),
    inset 0 -20px 28px rgba(0,0,0,.10);
  transform: translateY(76%);
  transition: transform 420ms cubic-bezier(.2,.9,.1,1);
  overflow:hidden;
  z-index:6;
}

.letter::before{
  content:"";
  position:absolute;
  inset:-10px;
  background:
    radial-gradient(circle at 18% 18%, rgba(0,0,0,.12), transparent 48%),
    radial-gradient(circle at 86% 22%, rgba(0,0,0,.10), transparent 52%),
    radial-gradient(circle at 24% 88%, rgba(0,0,0,.10), transparent 52%),
    radial-gradient(circle at 86% 86%, rgba(0,0,0,.12), transparent 50%),
    repeating-linear-gradient(35deg, rgba(0,0,0,.05) 0px, rgba(0,0,0,.05) 1px, transparent 1px, transparent 7px);
  opacity:.50;
  mix-blend-mode:multiply;
  pointer-events:none;
}

.content{
  padding:26px 22px 22px;
  font-family:"EB Garamond", serif;
  font-size:20px;
  line-height:1.58;
  color:var(--ink);
  opacity:0;
  transform: translateY(10px);
  transition: opacity 220ms ease, transform 220ms ease;
  max-height:100%;
  overflow:auto;
  scrollbar-width:thin;
}

.content p{ margin:0 }
.content .dear{
  font-weight:600;
  font-size:22px;
  margin-bottom:10px;
}

/* open state */
.envelope.is-open{
  transform: perspective(900px) rotateX(0deg);
}
.envelope.is-open .flap-top{
  transform: rotateX(168deg);
}
.envelope.is-open .letter{
  transform: translateY(-22%);
}
.envelope.is-open .content{
  opacity:1;
  transform: translateY(0);
  transition-delay:120ms;
}
.envelope.is-open .seal{
  opacity:0;
  transform: translate(-50%,-50%) scale(.86);
}

.envelope:focus-visible{
  outline:3px solid rgba(255,255,255,.60);
  outline-offset:10px;
  border-radius:20px;
}
</style>
</head>

<body>
<!-- background sprites -->
<div class="bg" id="bg"></div>

<div class="wrap" id="wrap">
  <p class="hint">Klick aufs Kuvert.</p>

  <div class="stage">
    <div class="envelope" id="env" role="button" tabindex="0" aria-expanded="false" aria-label="Kuvert öffnen">
      <div class="env-body"></div>
      <div class="env-pocket" aria-hidden="true"></div>

      <div class="letter" aria-hidden="true">
        <div class="content">
          <div class="dear">Fiona,</div>
          <p>
            ich bin von ganzem Herzen froh, dass du in mein Leben getreten bist.
            Du bist ein wundervoller Mensch, mit spannenden Höhen und auch Tiefen.
            Ich liebe es, mit dir über alles reden zu können, das schätze ich sehr.
            Und dann siehst du auch noch phänomenal aus – und wir haben erst begonnen,
            uns so richtig kennenzulernen: erotisch, aber auch romantisch.<br><br>
            Ich hoffe, dass wir einander noch lange in unseren Leben haben werden,
            vielleicht wird ja sogar ein gemeinsames daraus. Bleib so wie du bist, du bist wunderbar.
            Ich vermisse deine physische Gegenwart schon und freue mich jetzt schon, wenn wir uns wiedersehen.<br><br>
            Dein Michael
          </p>
        </div>
      </div>

      <div class="flap-bottom" aria-hidden="true"></div>
      <div class="seal" aria-hidden="true">MF</div>
      <div class="flap-top" aria-hidden="true"></div>
    </div>
  </div>
</div>

<script>
/* envelope toggle */
const env = document.getElementById('env');
const wrap = document.getElementById('wrap');

function toggleEnvelope(){
  const open = env.classList.toggle('is-open');
  wrap.classList.toggle('is-open', open);
  env.setAttribute('aria-expanded', String(open));
  env.querySelector('.letter').setAttribute('aria-hidden', String(!open));
}
env.addEventListener('click', toggleEnvelope);
env.addEventListener('keydown', (e) => {
  if(e.key === 'Enter' || e.key === ' '){
    e.preventDefault();
    toggleEnvelope();
  }
});

/* --- background: pixel hearts + generic 8-bit icons --- */
const bg = document.getElementById('bg');

function makeHeartSVG(){
  // small pixel heart (inline svg)
  return `
  <svg viewBox="0 0 16 16" width="22" height="22" xmlns="http://www.w3.org/2000/svg">
    <g shape-rendering="crispEdges">
      <rect x="2" y="2" width="2" height="2" fill="#ff4d6d"/>
      <rect x="4" y="2" width="2" height="2" fill="#ff4d6d"/>
      <rect x="10" y="2" width="2" height="2" fill="#ff4d6d"/>
      <rect x="12" y="2" width="2" height="2" fill="#ff4d6d"/>

      <rect x="1" y="4" width="2" height="2" fill="#ff4d6d"/>
      <rect x="3" y="4" width="10" height="2" fill="#ff4d6d"/>
      <rect x="13" y="4" width="2" height="2" fill="#ff4d6d"/>

      <rect x="2" y="6" width="12" height="2" fill="#ff4d6d"/>
      <rect x="3" y="8" width="10" height="2" fill="#ff4d6d"/>
      <rect x="4" y="10" width="8" height="2" fill="#ff4d6d"/>
      <rect x="6" y="12" width="4" height="2" fill="#ff4d6d"/>
    </g>
  </svg>`;
}

function makeIconSVG(kind){
  // 3 generic “pop icon” sprites, NOT any real person
  if(kind === "dancer"){
    return `
    <svg viewBox="0 0 16 16" width="52" height="52" xmlns="http://www.w3.org/2000/svg">
      <g shape-rendering="crispEdges">
        <rect x="7" y="2" width="2" height="2" fill="#f3d1b0"/>
        <rect x="6" y="4" width="4" height="2" fill="#222"/>
        <rect x="7" y="6" width="2" height="4" fill="#111"/>
        <rect x="5" y="7" width="2" height="2" fill="#111"/>
        <rect x="9" y="7" width="2" height="2" fill="#111"/>
        <rect x="6" y="10" width="2" height="3" fill="#2b7"/>
        <rect x="8" y="10" width="2" height="3" fill="#2b7"/>
        <rect x="5" y="13" width="3" height="2" fill="#111"/>
        <rect x="8" y="13" width="3" height="2" fill="#111"/>
      </g>
    </svg>`;
  }
  if(kind === "diva"){
    return `
    <svg viewBox="0 0 16 16" width="52" height="52" xmlns="http://www.w3.org/2000/svg">
      <g shape-rendering="crispEdges">
        <rect x="7" y="2" width="2" height="2" fill="#f3d1b0"/>
        <rect x="6" y="4" width="4" height="2" fill="#5ad"/>
        <rect x="7" y="6" width="2" height="5" fill="#a2f"/>
        <rect x="5" y="7" width="2" height="2" fill="#a2f"/>
        <rect x="9" y="7" width="2" height="2" fill="#a2f"/>
        <rect x="10" y="6" width="1" height="5" fill="#ddd"/> <!-- mic -->
        <rect x="11" y="6" width="1" height="1" fill="#ddd"/>
        <rect x="6" y="11" width="4" height="3" fill="#333"/>
        <rect x="5" y="14" width="3" height="2" fill="#111"/>
        <rect x="8" y="14" width="3" height="2" fill="#111"/>
      </g>
    </svg>`;
  }
  // popstar
  return `
  <svg viewBox="0 0 16 16" width="52" height="52" xmlns="http://www.w3.org/2000/svg">
    <g shape-rendering="crispEdges">
      <rect x="7" y="2" width="2" height="2" fill="#f3d1b0"/>
      <rect x="5" y="4" width="6" height="2" fill="#f7c948"/> <!-- hair/halo -->
      <rect x="7" y="6" width="2" height="6" fill="#0bf"/>
      <rect x="5" y="7" width="2" height="2" fill="#0bf"/>
      <rect x="9" y="7" width="2" height="2" fill="#0bf"/>
      <rect x="6" y="12" width="4" height="2" fill="#333"/>
      <rect x="5" y="14" width="3" height="2" fill="#111"/>
      <rect x="8" y="14" width="3" height="2" fill="#111"/>
    </g>
  </svg>`;
}

function spawn(el, klass, leftPct){
  const node = document.createElement('div');
  node.className = klass;
  node.style.left = `${leftPct}%`;
  node.style.bottom = `-20vh`;
  node.style.setProperty('--dur', `${18 + Math.random()*18}s`);
  node.style.setProperty('--s', `${0.7 + Math.random()*1.1}`);
  node.style.setProperty('--r', `${-10 + Math.random()*20}deg`);
  node.innerHTML = el;
  bg.appendChild(node);

  const removeAt = (18 + 20) * 1000;
  setTimeout(() => node.remove(), removeAt);
}

function seedBackground(){
  // hearts
  for(let i=0;i<18;i++){
    spawn(makeHeartSVG(), 'pixel', Math.random()*100);
  }
  // three generic icons
  const kinds = ["dancer","diva","popstar"];
  kinds.forEach((k, idx) => {
    const left = 15 + idx*35 + Math.random()*8;
    spawn(makeIconSVG(k), 'icon', left);
  });
}

seedBackground();
setInterval(() => spawn(makeHeartSVG(), 'pixel', Math.random()*100), 850);
setInterval(() => {
  const kinds = ["dancer","diva","popstar"];
  const k = kinds[Math.floor(Math.random()*kinds.length)];
  spawn(makeIconSVG(k), 'icon', Math.random()*100);
}, 4500);
</script>
</body>
</html>
